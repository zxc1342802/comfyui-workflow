{"last_node_id":250,"last_link_id":440,"nodes":[{"id":172,"type":"UltimateSDUpscale","pos":[2264.007853187506,-492.1883720255472],"size":[349.74151611328125,802.0000610351562],"flags":{"pinned":true},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":433,"label":"image"},{"name":"model","type":"MODEL","link":436,"label":"model"},{"name":"positive","type":"CONDITIONING","link":430,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":431,"label":"negative"},{"name":"vae","type":"VAE","link":432,"label":"vae"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":250,"label":"upscale_model"},{"name":"seed","type":"INT","link":435,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[413],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[1.5,399934602141404,"randomize",15,5,"dpmpp_2m_sde","karras",0.25,"Chess",768,768,8,32,"None",1,64,8,16,"enable"],"color":"#223","bgcolor":"#335","locked":true},{"id":163,"type":"M-LSDPreprocessor","pos":[62.81377660962353,-204.10705077501896],"size":[315,106],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":396,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[218,416],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"M-LSDPreprocessor"},"widgets_values":[0.1,0.1,768],"color":"#233","bgcolor":"#355","locked":true},{"id":41,"type":"PreviewImage","pos":[61.81377660962353,-37.10705077501918],"size":[385.8798828125,339.776611328125],"flags":{"pinned":false},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":218,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":165,"type":"MiDaS-DepthMapPreprocessor","pos":[473.8137766096235,-218.1070507750187],"size":[315,106],"flags":{},"order":16,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":397,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[217,417],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MiDaS-DepthMapPreprocessor"},"widgets_values":[6.283185307179586,0.4,768],"color":"#233","bgcolor":"#355","locked":true},{"id":152,"type":"PreviewImage","pos":[471.8137766096235,-36.1070507750192],"size":[381.6484375,336.8136901855469],"flags":{"pinned":false},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":217,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":82,"type":"UpscaleModelLoader","pos":[1849.9572160156501,253.39322925092702],"size":[315,58],"flags":{"pinned":false},"order":0,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[250],"shape":3,"slot_index":0,"label":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x4plus.pth"],"color":"#432","bgcolor":"#653","locked":true},{"id":89,"type":"StringFunction|pysssss","pos":[1461,467],"size":[400.4540710449219,224.61643981933594],"flags":{"pinned":false,"collapsed":true},"order":11,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":411,"widget":{"name":"text_a"},"slot_index":0,"label":"text_a"},{"name":"text_b","type":"STRING","link":412,"widget":{"name":"text_b"},"label":"text_b"},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"},"label":"text_c"}],"outputs":[{"name":"STRING","type":"STRING","links":[422],"shape":3,"slot_index":0,"label":"STRING"}],"properties":{"Node name for S&R":"StringFunction|pysssss"},"widgets_values":["append","yes","","",""],"color":"#232","bgcolor":"#353","locked":true},{"id":3,"type":"LoRA Stacker","pos":[1424,-55],"size":[315,130],"flags":{"pinned":false},"order":1,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"lora_stack"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[196],"shape":3,"slot_index":0,"label":"LORA_STACK"}],"properties":{"Node name for S&R":"LoRA Stacker"},"widgets_values":["simple",1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1,"None",1,1,1],"color":"#222233","bgcolor":"#333355","shape":1,"locked":true},{"id":247,"type":"Seed","pos":[1438,183],"size":[315,142],"flags":{},"order":2,"mode":0,"outputs":[{"name":"seed","type":"SEED","links":null,"shape":3,"slot_index":0,"label":"seed"},{"name":"number","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"number"},{"name":"float","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"float"},{"name":"int","type":"FLOAT,INT,NUMBER,STRING","links":[434,435],"shape":3,"slot_index":3,"label":"int"}],"properties":{"Node name for S&R":"Seed"},"widgets_values":[371987645564522,"randomize"],"locked":true},{"id":246,"type":"KSampler (Efficient)","pos":[1846,-380],"size":[325,562],"flags":{},"order":23,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":424,"label":"model"},{"name":"positive","type":"CONDITIONING","link":425,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":426,"label":"negative"},{"name":"latent_image","type":"LATENT","link":427,"label":"latent_image"},{"name":"optional_vae","type":"VAE","link":428,"label":"optional_vae"},{"name":"script","type":"SCRIPT","link":null,"label":"script"},{"name":"seed","type":"INT","link":434,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[430],"shape":3,"slot_index":1,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[431],"shape":3,"slot_index":2,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"slot_index":3,"label":"LATENT"},{"name":"VAE","type":"VAE","links":[432],"shape":3,"slot_index":4,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[433],"shape":3,"slot_index":5,"label":"IMAGE"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[421903979146808,null,30,7,"dpmpp_2m_sde_gpu","karras",1,"auto","true"],"color":"#2a363b","bgcolor":"#3f5159","shape":1,"locked":true},{"id":173,"type":"CR Model Input Switch","pos":[-53,469],"size":[210,78],"flags":{"pinned":false},"order":22,"mode":0,"inputs":[{"name":"model1","type":"MODEL","link":404,"label":"model1"},{"name":"model2","type":"MODEL","link":403,"label":"model2"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[424],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"1-none / 2-revision","properties":{"Node name for S&R":"CR Model Input Switch"},"widgets_values":[2],"color":"#8de6d8","bgcolor":"#79d2c4","locked":true},{"id":162,"type":"AspectRatioSelector","pos":[-53,656],"size":[262.2238464355469,98],"flags":{"pinned":false},"order":3,"mode":0,"outputs":[{"name":"ratio","type":"STRING","links":null,"shape":3,"label":"ratio"},{"name":"width","type":"INT","links":[414],"shape":3,"slot_index":1,"label":"width"},{"name":"height","type":"INT","links":[415],"shape":3,"slot_index":2,"label":"height"}],"properties":{"Node name for S&R":"AspectRatioSelector"},"widgets_values":["4:3"],"color":"#222","bgcolor":"#000","locked":true},{"id":236,"type":"IPAdapterAdvanced","pos":[-60,871],"size":[315,258],"flags":{},"order":21,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":405,"slot_index":0,"label":"ipadapter"},{"name":"clip_vision","type":"CLIP_VISION","link":401,"label":"clip_vision"},{"name":"image","type":"IMAGE","link":440,"label":"image"},{"name":"model","type":"MODEL","link":400,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[403],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.4,"linear","concat",0,1,"V only"],"locked":true},{"id":20,"type":"CR Multi-ControlNet Stack","pos":[904.8137766096237,-195.107050775019],"size":[418.1999816894531,454],"flags":{"pinned":false},"order":19,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":416,"slot_index":0,"label":"image_1"},{"name":"image_2","type":"IMAGE","link":417,"slot_index":1,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":null,"slot_index":2,"label":"image_3"},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null,"slot_index":3,"label":"controlnet_stack"}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[197],"shape":3,"slot_index":0,"label":"CONTROLNET_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","control_v11p_sd15_mlsd.pth",0.5,0,1,"On","control_v11f1p_sd15_depth.pth",0.85,0,0.5630000000000001,"Off","control_v11p_sd15_seg.pth",1,0,1],"color":"#432","bgcolor":"#653","locked":true},{"id":161,"type":"Efficient Loader","pos":[1426.3143952575908,-494.46261385973037],"size":[370.2953796386719,330.49798583984375],"flags":{"pinned":false},"order":20,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":196,"label":"lora_stack"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":197,"label":"cnet_stack"},{"name":"empty_latent_width","type":"INT","link":414,"widget":{"name":"empty_latent_width"},"label":"empty_latent_width"},{"name":"empty_latent_height","type":"INT","link":415,"widget":{"name":"empty_latent_height"},"label":"empty_latent_height"},{"name":"positive","type":"STRING","link":422,"widget":{"name":"positive"},"label":"positive"},{"name":"negative","type":"STRING","link":421,"widget":{"name":"negative"},"label":"negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[400,404,436],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[425],"shape":3,"slot_index":1,"label":"CONDITIONING+"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[426],"shape":3,"slot_index":2,"label":"CONDITIONING-"},{"name":"LATENT","type":"LATENT","links":[427],"shape":3,"slot_index":3,"label":"LATENT"},{"name":"VAE","type":"VAE","links":[428],"shape":3,"slot_index":4,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"slot_index":5,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"DEPENDENCIES"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["398_3019_3598@15012c538f.safetensors","vae-ft-mse-840000-ema-pruned@735e4c3a44.safetensors",-1,"None",1,1,"Positive","Negative","none","comfy",512,512,1],"color":"#332233","bgcolor":"#553355","shape":1,"locked":true},{"id":168,"type":"CLIPVisionLoader","pos":[-57,1227],"size":[265.35614013671875,58],"flags":{"pinned":false},"order":4,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[401],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"color":"#233","bgcolor":"#355","locked":true},{"id":244,"type":"SaveImage","pos":[1678,408],"size":[985.2802124023438,943.6327514648438],"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":413,"label":"images"}],"properties":{},"widgets_values":["ComfyUI"],"locked":true},{"id":237,"type":"IPAdapterModelLoader","pos":[289,1230],"size":[315,58],"flags":{},"order":5,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[405],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.safetensors"],"locked":true},{"id":239,"type":"CR Prompt Text","pos":[645,1204],"size":[357.7188720703125,111.46247100830078],"flags":{"collapsed":false},"order":6,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[421],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Negative","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["embedding:EasyNegativeV2, embedding:bad-picture-chill-75v, "],"locked":true},{"id":242,"type":"CR Prompt Text","pos":[1092,466],"size":[300.69573974609375,106.71062469482422],"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[411],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Positive quality","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["best quality, masterpiece, 4k, highres, intricate detailed, hdr,interior"],"color":"#232","bgcolor":"#353","locked":true},{"id":243,"type":"CR Prompt Text","pos":[1181,652],"size":[331.39886474609375,120.24908447265625],"flags":{},"order":8,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[412],"shape":3,"slot_index":0,"label":"prompt"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"title":"Details","properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["japaness style\uff0ctabloe,bed,sofa,"],"color":"#232","bgcolor":"#353","locked":true},{"id":234,"type":"ConstrainImage|pysssss","pos":[-323,-191],"size":{"0":315,"1":154},"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":438,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[396,397],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"color":"#432","bgcolor":"#653"},{"id":249,"type":"DF_Image_scale_to_side","pos":[-670,-185],"size":{"0":315,"1":130},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":437,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[438],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[768,"Longest","nearest-exact","disabled"]},{"id":116,"type":"LoadImage","pos":[-1171,-174],"size":{"0":461.2862854003906,"1":318.02392578125},"flags":{"pinned":false},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[437],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Upload Your Room","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/168e4aed4d32ba7767290d67c9a08ac40154a2b2.jpg","image"],"color":"#706b6b","bgcolor":"#5c5757"},{"id":170,"type":"LoadImage","pos":[-1193,234],"size":{"0":488.914306640625,"1":466.27130126953125},"flags":{"pinned":false},"order":10,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[439],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Reference Style","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/945c1bc80997ed664ea482ce99e68a277bbf833f.jpg","image"],"color":"#aca4a4","bgcolor":"#989090"},{"id":250,"type":"DF_Image_scale_to_side","pos":[-679,242],"size":{"0":315,"1":130},"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":439,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[440],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[768,"Longest","nearest-exact","disabled"]}],"links":[[196,3,0,161,0,"LORA_STACK"],[197,20,0,161,1,"CONTROL_NET_STACK"],[217,165,0,152,0,"IMAGE"],[218,163,0,41,0,"IMAGE"],[250,82,0,172,5,"UPSCALE_MODEL"],[396,234,0,163,0,"IMAGE"],[397,234,0,165,0,"IMAGE"],[400,161,0,236,3,"MODEL"],[401,168,0,236,1,"CLIP_VISION"],[403,236,0,173,1,"MODEL"],[404,161,0,173,0,"MODEL"],[405,237,0,236,0,"IPADAPTER"],[411,242,0,89,0,"STRING"],[412,243,0,89,1,"STRING"],[413,172,0,244,0,"IMAGE"],[414,162,1,161,2,"INT"],[415,162,2,161,3,"INT"],[416,163,0,20,0,"IMAGE"],[417,165,0,20,1,"IMAGE"],[421,239,0,161,5,"STRING"],[422,89,0,161,4,"STRING"],[424,173,0,246,0,"MODEL"],[425,161,1,246,1,"CONDITIONING"],[426,161,2,246,2,"CONDITIONING"],[427,161,3,246,3,"LATENT"],[428,161,4,246,4,"VAE"],[430,246,1,172,2,"CONDITIONING"],[431,246,2,172,3,"CONDITIONING"],[432,246,4,172,4,"VAE"],[433,246,5,172,0,"IMAGE"],[434,247,3,246,6,"INT"],[435,247,3,172,6,"INT"],[436,161,0,172,1,"MODEL"],[437,116,0,249,0,"IMAGE"],[438,249,0,234,0,"IMAGE"],[439,170,0,250,0,"IMAGE"],[440,250,0,236,2,"IMAGE"]],"groups":[{"title":"ControlNet","bounding":[29,-363,1337,710],"color":"#8AA","font_size":24,"locked":false},{"title":"Generate","bounding":[1390,-584,805,928],"color":"#88A","font_size":24,"locked":false},{"title":"Highres-fix","bounding":[2219,-580,441,928],"color":"#3f789e","font_size":24,"locked":false},{"title":"Parameters","bounding":[-92,374,1746,977],"color":"#8A8","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}