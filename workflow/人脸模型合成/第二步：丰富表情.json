{"last_node_id":211,"last_link_id":490,"nodes":[{"id":129,"type":"LivePortraitLoadCropper","pos":[-1253,-757],"size":{"0":315,"1":106},"flags":{},"order":0,"mode":0,"outputs":[{"name":"cropper","type":"LPCROPPER","links":[],"slot_index":0,"shape":3,"label":"è£å‰ªæ¡†æ¶"}],"properties":{"Node name for S&R":"LivePortraitLoadCropper"},"widgets_values":["CPU",true,0.5]},{"id":134,"type":"GetImageSizeAndCount","pos":[-200,360],"size":{"0":210,"1":86},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":471,"label":"å›¾åƒ"}],"outputs":[{"name":"image","type":"IMAGE","links":[],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"width","type":"INT","links":null,"shape":3,"label":"å®½åº¦"},{"name":"height","type":"INT","links":null,"shape":3,"label":"é«˜åº¦"},{"name":"count","type":"INT","links":null,"shape":3,"label":"æ•°é‡"}],"properties":{"Node name for S&R":"GetImageSizeAndCount"}},{"id":78,"type":"GetImageSizeAndCount","pos":[-522,-572],"size":{"0":210,"1":86},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":434,"label":"å›¾åƒ"}],"outputs":[{"name":"image","type":"IMAGE","links":[445,455],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"1920 width","type":"INT","links":null,"shape":3},{"name":"1080 height","type":"INT","links":null,"shape":3},{"name":"1 count","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"GetImageSizeAndCount"}},{"id":182,"type":"GetImageSizeAndCount","pos":[-850,-195],"size":{"0":210,"1":86},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":436,"label":"å›¾åƒ"}],"outputs":[{"name":"image","type":"IMAGE","links":[451,469],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"512 width","type":"INT","links":null,"shape":3},{"name":"512 height","type":"INT","links":null,"shape":3},{"name":"935 count","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"GetImageSizeAndCount"}},{"id":83,"type":"CreateShapeMask","pos":[407,-876],"size":{"0":315,"1":270},"flags":{},"order":1,"mode":0,"outputs":[{"name":"mask","type":"MASK","links":[192],"slot_index":0,"shape":3,"label":"é®ç½©"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"åè½¬é®ç½©"}],"properties":{"Node name for S&R":"CreateShapeMask"},"widgets_values":["square",1,256,256,0,512,512,480,480]},{"id":81,"type":"GrowMaskWithBlur","pos":[751,-873],"size":{"0":315,"1":246},"flags":{},"order":6,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":192,"slot_index":0,"label":"é®ç½©"}],"outputs":[{"name":"mask","type":"MASK","links":[187,463],"slot_index":0,"shape":3,"label":"é®ç½©"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"åè½¬é®ç½©"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[0,0,true,false,13.9,1,1,false]},{"id":82,"type":"MaskPreview+","pos":[1091,-873],"size":{"0":210,"1":246},"flags":{},"order":10,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":187,"label":"é®ç½©"}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":192,"type":"Reroute","pos":[73,-519],"size":[82,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":455}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[456,457],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":180,"type":"LivePortraitRetargeting","pos":[-386,-62],"size":{"0":430.8000183105469,"1":130},"flags":{},"order":19,"mode":0,"inputs":[{"name":"driving_crop_info","type":"CROPINFO","link":470,"slot_index":0,"label":"è£å‰ªä¿¡æ¯"}],"outputs":[{"name":"retargeting_info","type":"RETARGETINGINFO","links":[],"slot_index":0,"shape":3,"label":"é‡å®šå‘ä¿¡æ¯"}],"properties":{"Node name for S&R":"LivePortraitRetargeting"},"widgets_values":[true,1,true,1]},{"id":199,"type":"Reroute","pos":[-860,-906],"size":[115.6,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":474}],"outputs":[{"name":"LPCROPPER","type":"LPCROPPER","links":[475,476],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":190,"type":"LivePortraitProcess","pos":[34,-522],"size":{"0":430.8000183105469,"1":330},"flags":{},"order":17,"mode":0,"inputs":[{"name":"pipeline","type":"LIVEPORTRAITPIPE","link":448,"label":"LivePortraitç®¡çº¿"},{"name":"crop_info","type":"CROPINFO","link":449,"label":"è£å‰ªä¿¡æ¯"},{"name":"source_image","type":"IMAGE","link":456,"label":"åŸå›¾åƒ"},{"name":"driving_images","type":"IMAGE","link":451,"label":"é©±åŠ¨å›¾åƒ"},{"name":"opt_retargeting_info","type":"RETARGETINGINFO","link":null,"label":"é‡å®šå‘ä¿¡æ¯(å¯é€‰)"}],"outputs":[{"name":"cropped_image","type":"IMAGE","links":[454],"slot_index":0,"shape":3,"label":"è£å‰ªå›¾åƒ"},{"name":"output","type":"LP_OUT","links":[452],"slot_index":1,"shape":3,"label":"LivePOrtraitè¾“å‡º"}],"properties":{"Node name for S&R":"LivePortraitProcess"},"widgets_values":[false,0.03,true,1,"constant","relative",0.000003,false,1]},{"id":202,"type":"VHS_VideoInfo","pos":[356,85],"size":{"0":393,"1":206},"flags":{},"order":13,"mode":0,"inputs":[{"name":"video_info","type":"VHS_VIDEOINFO","link":480,"label":"è§†é¢‘ä¿¡æ¯"}],"outputs":[{"name":"source_fpsğŸŸ¨","type":"FLOAT","links":[481],"slot_index":0,"shape":3,"label":"åˆå§‹FPSğŸŸ¨"},{"name":"source_frame_countğŸŸ¨","type":"INT","links":null,"shape":3,"label":"åˆå§‹å¸§æ•°ğŸŸ¨"},{"name":"source_durationğŸŸ¨","type":"FLOAT","links":null,"shape":3,"label":"åˆå§‹æ—¶é•¿ğŸŸ¨"},{"name":"source_widthğŸŸ¨","type":"INT","links":null,"shape":3,"label":"åˆå§‹å®½åº¦ğŸŸ¨"},{"name":"source_heightğŸŸ¨","type":"INT","links":null,"shape":3,"label":"åˆå§‹é«˜åº¦ğŸŸ¨"},{"name":"loaded_fpsğŸŸ¦","type":"FLOAT","links":null,"shape":3,"label":"é€‰ä¸­FPSğŸŸ¦"},{"name":"loaded_frame_countğŸŸ¦","type":"INT","links":null,"shape":3,"label":"é€‰ä¸­å¸§æ•°ğŸŸ¦"},{"name":"loaded_durationğŸŸ¦","type":"FLOAT","links":null,"shape":3,"label":"é€‰ä¸­æ—¶é•¿ğŸŸ¦"},{"name":"loaded_widthğŸŸ¦","type":"INT","links":null,"shape":3,"label":"é€‰ä¸­å®½åº¦ğŸŸ¦"},{"name":"loaded_heightğŸŸ¦","type":"INT","links":null,"shape":3,"label":"é€‰ä¸­é«˜åº¦ğŸŸ¦"}],"properties":{"Node name for S&R":"VHS_VideoInfo"},"widgets_values":{}},{"id":197,"type":"LivePortraitCropper","pos":[-640,360],"size":{"0":330,"1":242},"flags":{},"order":16,"mode":0,"inputs":[{"name":"pipeline","type":"LIVEPORTRAITPIPE","link":472,"slot_index":0,"label":"LivePortraitç®¡çº¿"},{"name":"cropper","type":"LPCROPPER","link":476,"label":"è£å‰ªæ¡†æ¶"},{"name":"source_image","type":"IMAGE","link":469,"label":"åŸå›¾åƒ"}],"outputs":[{"name":"cropped_image","type":"IMAGE","links":[471],"slot_index":0,"shape":3},{"name":"crop_info","type":"CROPINFO","links":[470],"slot_index":1,"shape":3,"label":"è£å‰ªä¿¡æ¯"}],"properties":{"Node name for S&R":"LivePortraitCropper"},"widgets_values":[512,2.3,-0.003,-0.125,0,"large-small",false]},{"id":191,"type":"LivePortraitComposite","pos":[510,-522],"size":{"0":355.20001220703125,"1":86},"flags":{},"order":20,"mode":0,"inputs":[{"name":"source_image","type":"IMAGE","link":457,"label":"åŸå›¾åƒ"},{"name":"cropped_image","type":"IMAGE","link":454,"label":"è£å‰ªå›¾åƒ"},{"name":"liveportrait_out","type":"LP_OUT","link":452,"label":"LivePOrtraitè¾“å‡º"},{"name":"mask","type":"MASK","link":463,"label":"é®ç½©"}],"outputs":[{"name":"full_images","type":"IMAGE","links":[458],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"é®ç½©"}],"properties":{"Node name for S&R":"LivePortraitComposite"}},{"id":181,"type":"GetImageSizeAndCount","pos":[904,-521],"size":{"0":210,"1":86},"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":458,"label":"å›¾åƒ"}],"outputs":[{"name":"image","type":"IMAGE","links":[478],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"1920 width","type":"INT","links":null,"shape":3},{"name":"1080 height","type":"INT","links":null,"shape":3},{"name":"935 count","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"GetImageSizeAndCount"}},{"id":189,"type":"LivePortraitCropper","pos":[41,-868],"size":{"0":330,"1":242},"flags":{},"order":14,"mode":0,"inputs":[{"name":"pipeline","type":"LIVEPORTRAITPIPE","link":446,"slot_index":0,"label":"LivePortraitç®¡çº¿"},{"name":"cropper","type":"LPCROPPER","link":475,"slot_index":1,"label":"è£å‰ªæ¡†æ¶"},{"name":"source_image","type":"IMAGE","link":445,"label":"åŸå›¾åƒ"}],"outputs":[{"name":"cropped_image","type":"IMAGE","links":null,"slot_index":0,"shape":3},{"name":"crop_info","type":"CROPINFO","links":[449],"slot_index":1,"shape":3,"label":"è£å‰ªä¿¡æ¯"}],"properties":{"Node name for S&R":"LivePortraitCropper"},"widgets_values":[512,2.3,0,-0.125,0,"large-small",true]},{"id":1,"type":"DownloadAndLoadLivePortraitModels","pos":[-603,-869],"size":{"0":302.43463134765625,"1":82},"flags":{},"order":2,"mode":0,"outputs":[{"name":"live_portrait_pipe","type":"LIVEPORTRAITPIPE","links":[446,448,472],"slot_index":0,"shape":3,"label":"LivePortraitç®¡çº¿"}],"properties":{"Node name for S&R":"DownloadAndLoadLivePortraitModels"},"widgets_values":["auto","human"]},{"id":198,"type":"LivePortraitLoadMediaPipeCropper","pos":[-1246,-897],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"cropper","type":"LPCROPPER","links":[474],"shape":3,"label":"è£å‰ªæ¡†æ¶"}],"properties":{"Node name for S&R":"LivePortraitLoadMediaPipeCropper"},"widgets_values":["CPU",true]},{"id":196,"type":"LoadImage","pos":[-1263,-577],"size":{"0":330.4995422363281,"1":384.2416687011719},"flags":{},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[466],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"é®ç½©"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["é€‰ä¸­.png","image"]},{"id":165,"type":"ImageResizeKJ","pos":[-873,-573],"size":{"0":315,"1":242},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":466,"label":"å›¾åƒ"},{"name":"get_image_size","type":"IMAGE","link":null,"label":"å‚è€ƒå›¾åƒå¤§å°"},{"name":"width_input","type":"INT","link":null,"widget":{"name":"width_input"},"label":"å®½åº¦"},{"name":"height_input","type":"INT","link":null,"widget":{"name":"height_input"},"label":"é«˜åº¦"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[434],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"width","type":"INT","links":null,"shape":3,"label":"å®½åº¦"},{"name":"height","type":"INT","links":null,"shape":3,"label":"é«˜åº¦"}],"properties":{"Node name for S&R":"ImageResizeKJ"},"widgets_values":[512,512,"lanczos",true,2,0,0]},{"id":133,"type":"PrimitiveNode","pos":[-1267,-51],"size":{"0":210,"1":82},"flags":{},"order":5,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[302],"slot_index":0,"widget":{"name":"frame_load_cap"}}],"properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"]},{"id":8,"type":"VHS_LoadVideo","pos":[-1262,118],"size":[340.1555480957031,821.1654188368055],"flags":{},"order":9,"mode":0,"inputs":[{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"æ‰¹æ¬¡ç®¡ç†"},{"name":"vae","type":"VAE","link":null},{"name":"frame_load_cap","type":"INT","link":302,"widget":{"name":"frame_load_cap"},"label":"å¸§æ•°è¯»å–ä¸Šé™"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[436],"slot_index":0,"shape":3,"label":"å›¾åƒ"},{"name":"frame_count","type":"INT","links":null,"slot_index":1,"shape":3,"label":"å¸§è®¡æ•°"},{"name":"audio","type":"VHS_AUDIO","links":[482],"slot_index":2,"shape":3,"label":"éŸ³é¢‘"},{"name":"video_info","type":"VHS_VIDEOINFO","links":[480],"slot_index":3,"shape":3,"label":"è§†é¢‘ä¿¡æ¯"}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"3ç§’.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"frame_load_cap":0,"skip_first_frames":0,"force_rate":0,"filename":"3ç§’.mp4","type":"input","format":"video/mp4","select_every_nth":1}}}},{"id":168,"type":"VHS_VideoCombine","pos":[865,85],"size":[669.8613891601562,685.5470314025879],"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":478,"label":"å›¾åƒ"},{"name":"audio","type":"VHS_AUDIO","link":482,"label":"éŸ³é¢‘"},{"name":"meta_batch","type":"VHS_BatchManager","link":null,"label":"æ‰¹æ¬¡ç®¡ç†"},{"name":"vae","type":"VAE","link":null},{"name":"frame_rate","type":"FLOAT","link":481,"widget":{"name":"frame_rate"},"label":"å¸§ç‡"}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3,"label":"æ–‡ä»¶å"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":16,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00200-audio.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":16}}}}],"links":[[187,81,0,82,0,"MASK"],[192,83,0,81,0,"MASK"],[302,133,0,8,2,"INT"],[434,165,0,78,0,"IMAGE"],[436,8,0,182,0,"IMAGE"],[445,78,0,189,2,"IMAGE"],[446,1,0,189,0,"LIVEPORTRAITPIPE"],[448,1,0,190,0,"LIVEPORTRAITPIPE"],[449,189,1,190,1,"CROPINFO"],[451,182,0,190,3,"IMAGE"],[452,190,1,191,2,"LP_OUT"],[454,190,0,191,1,"IMAGE"],[455,78,0,192,0,"*"],[456,192,0,190,2,"IMAGE"],[457,192,0,191,0,"IMAGE"],[458,191,0,181,0,"IMAGE"],[463,81,0,191,3,"MASK"],[466,196,0,165,0,"IMAGE"],[469,182,0,197,2,"IMAGE"],[470,197,1,180,0,"CROPINFO"],[471,197,0,134,0,"IMAGE"],[472,1,0,197,0,"LIVEPORTRAITPIPE"],[474,198,0,199,0,"*"],[475,199,0,189,1,"LPCROPPER"],[476,199,0,197,1,"LPCROPPER"],[478,181,0,168,0,"IMAGE"],[480,8,3,202,0,"VHS_VIDEOINFO"],[481,202,0,168,4,"FLOAT"],[482,8,2,168,1,"VHS_AUDIO"]],"groups":[{"title":"åˆ¶ä½œåŠ¨æ€è¡¨æƒ…","bounding":[-1277,-971,2838,1920],"color":"#3f789e","font_size":24,"locked":false},{"title":"å…³æ³¨å…¬ä¼—å·ï¼šã€ŠAIæé’±ç¤¾ã€‹  æˆ–  åŠ å¾®ä¿¡ï¼šMadongxi1888ï¼Œå…è´¹é¢†å–è¶…å¤šaièµ„æ–™ï¼ã€æ¢è„¸ã€å˜å£°ã€aiç»˜ç”»ç­‰ç­‰ã€‘","bounding":[-1269,-1184,3773,107],"color":"#b58b2a","font_size":80,"locked":true}],"config":{},"extra":{"ds":{"scale":0.2794145953766203,"offset":[4374.39871746328,2837.7019360264685]},"workspace_info":{"id":"QD_zQmL8HiGbPE7QZgSMg"}},"version":0.4}